/***********************************************************************//**
	@file
***************************************************************************/
#include "atest/Test.hpp"

namespace atest {
/***********************************************************************//**
	@brief 
***************************************************************************/
Test::Test()
  : testNum_(0), 
    failNum_(0)
{
}
/***********************************************************************//**
	@brief 
***************************************************************************/
bool Test::run() {
  onRun();
  std::cout << "test failed " << failNum_ << "/" << testNum_ << std::endl;
  return failNum_ == 0;
}
/***********************************************************************//**
	@brief 
***************************************************************************/
void Test::run(Test& test, const std::string& message) {
  std::cout << "+ " << message << std::endl;
  if(!test.run()) {
    failNum_++;
  }
  testNum_++;
  std::cout << "- " << message << std::endl;
}
/***********************************************************************//**
	@brief 
***************************************************************************/
void Test::test(bool value, const std::string& message) {
  std::cout <<  (value ? "[OK]" : "[NG]") << message << std::endl;
  testNum_++;
  if(!value) {
    failNum_++;
    //assert(0);
  }
}
/***********************************************************************//**
	$Id$
***************************************************************************/
}
